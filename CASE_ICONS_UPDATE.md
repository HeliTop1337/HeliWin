# Обновление отображения иконок кейсов

## Что изменено

### 1. Главная страница (/)
- Кейсы теперь отображают реальные иконки из админки
- Если иконка не загружается, показывается SVG fallback
- Добавлен hover эффект на карточки кейсов

### 2. Страница открытия кейса (/cases/[id])
- Иконка кейса отображается в заголовке
- Поддержка как загруженных файлов, так и внешних URL
- Fallback на SVG при ошибке загрузки

### 3. Компонент CaseCard
- Использует утилиту `getImageUrl()` для правильных URL
- Автоматический fallback на SVG иконку при ошибке
- Улучшенная анимация при наведении

## Измененные файлы

- `frontend/components/CaseCard.tsx` - обновлен для отображения реальных иконок
- `frontend/pages/cases/[id].tsx` - добавлено отображение иконки кейса
- `frontend/lib/imageUrl.ts` - утилита для формирования URL (уже создана)

## Как это работает

1. **Админ загружает иконку** в `/admin/cases`
2. **Файл сохраняется** в `uploads/cases/`
3. **Путь записывается** в БД как `/uploads/cases/filename.webp`
4. **Фронтенд формирует URL** через `getImageUrl()`: `http://localhost:4000/uploads/cases/filename.webp`
5. **Изображение отображается** на главной и странице кейса
6. **При ошибке** показывается SVG fallback

## Поддерживаемые форматы

- Локальные файлы: `/uploads/cases/image.webp`
- Внешние URL: `https://example.com/image.png`
- Stalcraft API: `https://eapi.stalcraft.net/...`

## Fallback система

Если изображение не загружается:
1. Срабатывает событие `onError`
2. Изображение скрывается
3. Динамически создается SVG иконка
4. SVG добавляется в контейнер

## Проверка

После обновления:
1. Откройте главную страницу `/`
2. Все кейсы должны показывать свои иконки
3. Откройте любой кейс
4. Иконка должна отображаться в заголовке
5. При ошибке загрузки - показывается SVG

## Примеры

### Кейс с загруженной иконкой
```
Админ загружает: case-icon.webp
БД: /uploads/cases/abc123.webp
URL: http://localhost:4000/uploads/cases/abc123.webp
Результат: ✅ Отображается
```

### Кейс с внешней иконкой
```
Админ вводит: https://eapi.stalcraft.net/.../icon
БД: https://eapi.stalcraft.net/.../icon
URL: https://eapi.stalcraft.net/.../icon
Результат: ✅ Отображается
```

### Кейс без иконки
```
БД: null или пустая строка
Результат: ✅ Показывается SVG fallback
```

## Стили

- Иконки занимают всю область контейнера
- `object-cover` для правильного масштабирования
- Плавные переходы и анимации
- Адаптивный дизайн

## Производительность

- Изображения загружаются асинхронно
- Не блокируют рендеринг страницы
- Кэшируются браузером
- Fallback мгновенный
